{"version":3,"sources":["components/Homepage/header.js","components/Homepage/bodyContent.js","components/Nomatch.js","components/MeetingPage/meetingHeader.js","components/MeetingPage/meetingFooter.js","components/MeetingPage/meetingInfo.js","components/MeetingPage/alert.js","components/MeetingPage/messenger.js","components/MeetingPage/Room.js","components/vedioPage.js","components/App.js","index.js"],"names":["Header","className","alt","src","shortid","require","BodyContent","history","useHistory","useState","onClick","meetingId","generate","push","placeholder","href","Nomatch","classname","to","MeetingHeader","setMessenger","setMessageAlert","messageAlert","formatDate","moment","format","currentTime","setCurrentTime","useEffect","setInterval","console","log","class","alert","isPopup","payload","MeetingFooter","screenShare","isPresenting","stopScreenShare","isAudio","toggleAudio","disconnect","isVideo","setIsAudio","toggleVideo","MeetingInfo","url","setMeetingInfoPopUp","navigator","clipboard","writeText","Alert","icon","faCommentAlt","user","msg","Messenger","sendMsg","messageList","messageListState","userMessage","setMsg","map","time","value","onChange","event","target","vidStyle","height","width","padding","paddingBottom","objectFit","Video","props","ref","useRef","peer","on","stream","current","srcObject","style","muted","autoPlay","controls","MessageListReducer","state","action","type","Room","id","isAdmin","meetingInfoPopUp","isMessenger","numUsers","peers","setPeers","socketRef","userVideo","peersRef","currentPeer","adminPeer","roomID","streamObj","setStreamObj","screenCastStream","setScreenCastStream","setIsPresenting","setIsVideo","useReducer","messgListReducer","setMessageList","prevMessage","setPrevMessage","io","connect","mediaDevices","getUserMedia","video","audio","then","emit","users","peersForVideo","forEach","userID","userToSignal","callerID","Peer","initiator","trickle","signal","createPeer","peerID","length","incomingSignal","addPeer","item","find","p","chatMessages","setTimeout","index","getDisplayMedia","cursor","screenStream","replaceTrack","getVideoTracks","getTracks","onended","track","stop","play","send","VideoPage","window","location","hash","useParams","origin","pathname","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ffaf2051.chunk.js","sourcesContent":["import React from \"react\";\r\nimport HelpIcon from \"@material-ui/icons/Help\";\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nfunction Header() {\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"logo\">\r\n        <img\r\n          alt=\"google meet img\"\r\n          src=\"https://www.gstatic.com/meet/google_meet_horizontal_wordmark_2020q4_2x_icon_124_40_292e71bcb52a56e2a9005164118f183b.png\"\r\n        ></img>\r\n        <span>Meet</span>\r\n      </div>\r\n      <div className=\"action-icons\">\r\n        <div className=\"icon-block\">\r\n          <HelpIcon />\r\n          <ErrorIcon />\r\n          <SettingsIcon/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Header;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport KeyboardIcon from \"@material-ui/icons/Keyboard\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nconst shortid = require(\"shortid\");\r\nfunction BodyContent() {\r\n\r\n  const history=useHistory()\r\n  const [backPressed,setBackPressed]=useState(false)\r\n\r\n  \r\n\r\n  const startMeeting=()=>{\r\n    const meetingId=shortid.generate()\r\n    history.push(`${meetingId}#init`)\r\n  }\r\n\r\n  return (\r\n    <div className=\"body-content\">\r\n      <div className=\"left-side\">\r\n        <div className=\"content\">\r\n          <h2>Premium video meetings. Now free for everyone.</h2>\r\n          <p>\r\n            We re-engineered the service we built for secure business meetings,\r\n            Google Meet, to make it free and available for all.\r\n          </p>\r\n        </div>\r\n        <div className=\"action-btn\">\r\n          <button className=\"btn\" onClick={startMeeting}>\r\n            <VideocamIcon />\r\n            New Meeting\r\n          </button>\r\n\r\n          <div className=\"input-block\">\r\n            <div className=\"input-section\">\r\n              <KeyboardIcon />\r\n              <input placeholder=\"Enter a code or link\" />\r\n            </div>\r\n            <button className=\"join-btn\">Join</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer\">\r\n          <a className=\"green\" href=\"/\">\r\n            Learn more\r\n          </a>{\" \"}\r\n          about Google Meet\r\n        </div>\r\n      </div>\r\n      <div className=\"right-side\">\r\n        <div className=\"content\">\r\n          <img\r\n            src=\"https://www.gstatic.com/meet/google_meet_marketing_ongoing_meeting_grid_427cbb32d746b1d0133b898b50115e96.jpg\"\r\n            alt=\"meet-img\"\r\n          ></img>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BodyContent;\r\n","import React from \"react\";\r\nimport Header from \"./Homepage/header\";\r\nimport {Link} from \"react-router-dom\"\r\nfunction Nomatch() {\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"no-match-content\">\r\n        <h2>Invalid video call name.</h2>\r\n        <div className=\"action-btn\">\r\n          <button classname=\"green\">\r\n            <Link className=\"return-text\" to=\"/\">Return to home screen</Link>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Nomatch;\r\n","import react, { useEffect, useState, useRef } from \"react\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport ChatBubbleIcon from \"@material-ui/icons/ChatBubble\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport Room from \"./Room\";\r\n//use for time\r\nimport moment from \"moment\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\n\r\nfunction MeetingHeader({ setMessenger, setMessageAlert,messageAlert }) {\r\n\tconst formatDate = () => {\r\n\t\treturn moment().format(\"LT\");\r\n\t};\r\n\r\n\tconst [currentTime, setCurrentTime] = useState(() => {\r\n\t\tformatDate();\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tsetInterval(() => setCurrentTime(formatDate()), 1000);\r\n\t\tconsole.log(currentTime);\r\n\t}, []);\r\n\r\n\tconst vidStyle = {\r\n\t\t// height: \"calc(50vh -90px)\",\r\n\t\t// borderRadius:\"10px\"\r\n\t\theight: \"45%\",\r\n\t\twidth: \"45%\",\r\n\r\n\t\tpadding: \"10px\",\r\n\t\tpaddingBottom: \"5px\",\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div class=\"frame-header\">\r\n\t\t\t\t<div class=\"header-items icon-block\">\r\n\t\t\t\t\t<PeopleIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"header-items \"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetMessenger(true);\r\n\t\t\t\t\t\tsetMessageAlert({\r\n\t\t\t\t\t\t\talert: false,\r\n\t\t\t\t\t\t\tisPopup: false,\r\n\t\t\t\t\t\t\tpayload: {},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ChatBubbleIcon />\r\n\r\n\t\t\t\t{messageAlert.alert &&\t<span className=\"alert-icon\"></span>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"header-items date-block\">{currentTime}</div>\r\n\t\t\t\t<div class=\"header-items icon-block\">\r\n\t\t\t\t\t<AccountCircleIcon />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default MeetingHeader;\r\n","import react from \"react\";\r\nimport ClosedCaptionIcon from \"@material-ui/icons/ClosedCaption\";\r\nimport DesktopWindowsIcon from \"@material-ui/icons/DesktopWindows\";\r\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport PhoneEnabledIcon from \"@material-ui/icons/PhoneEnabled\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\n\r\nfunction MeetingFooter({\r\n\tscreenShare,\r\n\tisPresenting,\r\n\tstopScreenShare,\r\n\ttoggleAudio,\r\n\tisAudio,\r\n\tdisconnect,\r\n\tisVideo,\r\n\tsetIsAudio,\r\n\ttoggleVideo,\r\n}) {\r\n\treturn (\r\n\t\t<div className=\"footer-item\">\r\n\t\t\t<div className=\"left-item\">\r\n\t\t\t\t<div className=\"item-block\">\r\n\t\t\t\t\tMeeting Details\r\n\t\t\t\t\t<ExpandLessIcon />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"center-item\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`icon-block mic ${!isAudio ? \"red-btn\" : null}`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetIsAudio(!isAudio);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{isAudio ? <MicIcon /> : <MicOffIcon />}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"icon-block phone\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tdisconnect();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<PhoneEnabledIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`icon-block video ${!isVideo ? \"red-btn\" : null}`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\ttoggleVideo(!isVideo);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{isVideo ? <VideocamIcon /> : <VideocamOffIcon />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"right-item\">\r\n\t\t\t\t<div className=\"icon-block \">\r\n\t\t\t\t\t<ClosedCaptionIcon />\r\n\t\t\t\t\t<p className=\"title\">Turn on captions</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{isPresenting ? (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"icon-block screen-share\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tstopScreenShare();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DesktopWindowsIcon />\r\n\t\t\t\t\t\t<p className=\"title\">Stop Presenting</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"icon-block screen-share\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tscreenShare();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DesktopWindowsIcon />\r\n\t\t\t\t\t\t<p className=\"title\">Present now</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default MeetingFooter;\r\n","import react from 'react'\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport SecuritySharpIcon from \"@material-ui/icons/SecuritySharp\";\r\n\r\nfunction MeetingInfo({ url, setMeetingInfoPopUp }) {\r\n \r\n   \r\n\r\n  return (\r\n    <div class=\"meeting-info-block\">\r\n      <div class=\"meeting-header\">\r\n        <h3>Your Meeting's ready</h3>\r\n        <CloseIcon onClick={()=>{setMeetingInfoPopUp(false)}} />\r\n      </div>\r\n      <button class=\"add-people-btn\">\r\n        <PersonIcon />\r\n        Add others\r\n      </button>\r\n      <p class=\"info-text\">\r\n        Or share this meeting link with others you want in the meeting\r\n      </p>\r\n      <div class=\"meet-link\">\r\n        <span>{url}</span>\r\n        <FileCopyIcon  onClick={()=>{navigator.clipboard.writeText(url)}}/>\r\n      </div>\r\n      <div class=\"permission-text\">\r\n        <SecuritySharpIcon />\r\n        <p class=\"small-text\">\r\n          People who use this meeting link must get your permission before they\r\n          can join.\r\n        </p>\r\n      </div>\r\n      <p class=\"small-text\">Joined as xyz@gmail.com</p>\r\n    </div>\r\n    //   )}\r\n  );\r\n}\r\n\r\nexport default MeetingInfo","import react from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCommentAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Alert({ messageAlert }) {\r\n\treturn (\r\n\t\t<div className=\"message-alert-popup\">\r\n\t\t\t<div className=\"alert-header\">\r\n\t\t\t\t<FontAwesomeIcon className=\"icon\" icon={faCommentAlt} />\r\n\t\t\t\t<h3>{messageAlert.payload.user}</h3>\r\n\t\t\t</div>\r\n\t\t\t<p className=\"alert-msg\">{messageAlert.payload.msg}</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Alert;\r\n","import react, { useEffect, useState } from \"react\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport ChatBubbleIcon from \"@material-ui/icons/ChatBubble\";\r\nimport TelegramIcon from \"@material-ui/icons/Telegram\";\r\nimport { handleRateChange } from \"video-react/lib/actions/video\";\r\n\r\nfunction Messenger({\r\n\tsetMessenger,\r\n\tsendMsg,\r\n\tmessageListState,\r\n\tmessageList,\r\n\tuserMessage,\r\n}) {\r\n\tconst [msg, setMsg] = useState(\"\");\r\n\tconsole.log(userMessage);\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconsole.log(event.target.value);\r\n\t\tsetMsg(event.target.value);\r\n\t};\r\n\tconst handleClick = () => {\r\n\t\tsendMsg(msg);\r\n\t\tsetMsg(\"\");\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"messenger-container\">\r\n\t\t\t<div className=\"messenger-header\">\r\n\t\t\t\t<h3>Meeting details</h3>\r\n\t\t\t\t<CloseIcon\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetMessenger(false);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"messenger-header-tab\">\r\n\t\t\t\t<div className=\"people\">\r\n\t\t\t\t\t<PeopleIcon /> People\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"chat\">\r\n\t\t\t\t\t<ChatBubbleIcon />\r\n\t\t\t\t\tChat\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"messenger-chat-area\">\r\n\t\t\t\t{/* {userMessage!==null&&userMessage.map((user) => {\r\n                    console.log(user)\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"details\">\r\n\t\t\t\t\t\t\t\t<span>{user.user}</span>\r\n\t\t\t\t\t\t\t\t<small>{user.time}</small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p>{user.msg}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})} */}\r\n\r\n\t\t\t\t{messageList.map((msg) => {\r\n\t\t\t\t\tconsole.log(msg);\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"usermessage\">\r\n\t\t\t\t\t\t\t<div className=\"details\">\r\n\t\t\t\t\t\t\t\t<span>{msg.user}</span>\r\n\t\t\t\t\t\t\t\t<small>{msg.time}</small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p>{msg.msg}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"messenger-input\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tplaceholder=\"Send a message to everyone\"\r\n\t\t\t\t\tvalue={msg}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<TelegramIcon onClick={handleClick} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Messenger;\r\n","import React, { useEffect, useRef, useState, useReducer } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\nimport MeetingHeader from \"./meetingHeader\";\r\nimport MeetingFooter from \"./meetingFooter\";\r\nimport MeetingInfo from \"./meetingInfo\";\r\nimport Alert from \"./alert\";\r\nimport Messenger from \"./messenger\";\r\nimport { Player, ControlBar, PlayToggle } from \"video-react\";\r\nimport moment from \"moment\";\r\n\r\nconst vidStyle = {\r\n\theight: `264.15px`,\r\n\twidth: \"639.9px\",\r\n\tpadding: \"10px\",\r\n\tpaddingBottom: \"5px\",\r\n\tobjectFit: \"fill\",\r\n};\r\n\r\nconst Video = (props) => {\r\n\tconst ref = useRef();\r\n\t// console.log(\"VIDEO CALLED\" + JSON.stringify(props.peer));\r\n\tuseEffect(() => {\r\n\t\tprops.peer.on(\"stream\", (stream) => {\r\n\t\t\tconsole.log(\"ENTE0RD\" + stream);\r\n\t\t\tref.current.srcObject = stream;\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<video\r\n\t\t\tstyle={vidStyle}\r\n\t\t\tmuted={!props.isAudio}\r\n\t\t\tref={ref}\r\n\t\t\tautoPlay\r\n\t\t\tcontrols\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst MessageListReducer = (state, action) => {\r\n\t// let draftState = [...state];\r\n\tswitch (action.type) {\r\n\t\tcase \"addMessage\":\r\n\t\t\treturn [...state, action.payload];\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nconst Room = ({ id, isAdmin, setMeetingInfoPopUp, url, meetingInfoPopUp }) => {\r\n\tconst [isMessenger, setMessenger] = useState(false);\r\n\r\n\tconst numUsers = useRef();\r\n\tlet history = useHistory();\r\n\tconst [peers, setPeers] = useState([]);\r\n\tconst socketRef = useRef();\r\n\tconst userVideo = useRef();\r\n\tconst peersRef = useRef([]);\r\n\tconst currentPeer = useRef();\r\n\tconst adminPeer = useRef();\r\n\tconst screenStream = useRef();\r\n\tconst roomID = id;\r\n\tconst [isAudio, setIsAudio] = useState(false);\r\n\tconst [streamObj, setStreamObj] = useState();\r\n\tconst [screenCastStream, setScreenCastStream] = useState();\r\n\tconst [isPresenting, setIsPresenting] = useState();\r\n\tconst [isVideo, setIsVideo] = useState(true);\r\n\tconst initialState = [];\r\n\tconst [messageListState, messgListReducer] = useReducer(\r\n\t\tMessageListReducer,\r\n\t\tinitialState\r\n\t);\r\n\t// const messageList=useRef()\r\n\tconst [messageList, setMessageList] = useState([]);\r\n\tconst [messageAlert, setMessageAlert] = useState({});\r\n\tconst [prevMessage, setPrevMessage] = useState();\r\n\tlet alertTimeout = null;\r\n\r\n\tconst formatDate = () => {\r\n\t\treturn moment().format(\"LT\");\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsocketRef.current = io.connect(\"/\");\r\n\t\tnavigator.mediaDevices\r\n\t\t\t.getUserMedia({ video: true, audio: true })\r\n\t\t\t.then((stream) => {\r\n\t\t\t\tsetStreamObj(stream);\r\n\t\t\t\tuserVideo.current.srcObject = stream;\r\n\r\n\t\t\t\tconsole.log(userVideo.current);\r\n\r\n\t\t\t\t// LOGIC THAT USER HAS JOINED THE ROOM\r\n\r\n\t\t\t\t//THIS EVENT Is NOT CACHED AT BACKEND\r\n\t\t\t\t//.emit means sending  to backend\r\n\t\t\t\tsocketRef.current.emit(\"JOINED ROOM\");\r\n\t\t\t\tsocketRef.current.emit(\"join room\", roomID);\r\n\t\t\t\t// Recieve users from backened\r\n\t\t\t\t// if (!props.isAdmin) {\r\n\r\n\t\t\t\tsocketRef.current.on(\"all users\", (users) => {\r\n\t\t\t\t\t//peers is for how many videos are rendering\r\n\t\t\t\t\tconsole.log(users);\r\n\t\t\t\t\tconst peersForVideo = [];\r\n\t\t\t\t\tusers.forEach((userID) => {\r\n\t\t\t\t\t\tconsole.log(userID + \" USER ID OF USER IN THE ROOM \");\r\n\t\t\t\t\t\tconsole.log(socketRef.current);\r\n\t\t\t\t\t\t//socketRef.current.id is the of user currently joined\r\n\t\t\t\t\t\t// UserID  id's of all those inside the meeting\r\n\r\n\t\t\t\t\t\tconst peer = createPeer(userID, socketRef.current.id, stream);\r\n\t\t\t\t\t\t//peersRef is for which is having connection with which\r\n\t\t\t\t\t\tpeersRef.current.push({\r\n\t\t\t\t\t\t\tpeerID: userID,\r\n\t\t\t\t\t\t\tpeer,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tpeersForVideo.push(peer);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (peers.length <= 4) {\r\n\t\t\t\t\t\tsetPeers(peersForVideo);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//PERSON IN THE ROOM GETS NOTIFIED THAT SOMEBODY HAS JOINED\r\n\t\t\t\t//.on means recieving from backend\r\n\t\t\t\tsocketRef.current.on(\"user joined\", (payload) => {\r\n\t\t\t\t\tconst peer = addPeer(payload.signal, payload.callerID, stream);\r\n\r\n\t\t\t\t\tpeersRef.current.push({\r\n\t\t\t\t\t\tpeerID: payload.callerID,\r\n\t\t\t\t\t\tpeer,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsetPeers((users) => [...users, peer]);\r\n\t\t\t\t});\r\n\t\t\t\tsocketRef.current.on(\"receiving returned signal\", (payload) => {\r\n\t\t\t\t\t// signal has been send to multiple now multiple users are sending back the signal to caller\r\n\t\t\t\t\tconst item = peersRef.current.find((p) => p.peerID === payload.id);\r\n\t\t\t\t\tconsole.log(item);\r\n\r\n\t\t\t\t\titem.peer.signal(payload.signal);\r\n\t\t\t\t\t// currentPeer.current = item.peer;\r\n\t\t\t\t\t// returningSignal()\r\n\t\t\t\t});\r\n\t\t\t\t// }\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tfunction createPeer(userToSignal, callerID, stream) {\r\n\t\tconsole.log(\"CREATE PEER\");\r\n\t\tconst peer = new Peer({\r\n\t\t\tinitiator: true,\r\n\t\t\t//trickle wait for all the data to send makes it slow\r\n\t\t\ttrickle: false,\r\n\t\t\tstream,\r\n\t\t});\r\n\t\tcurrentPeer.current = peer;\r\n\r\n\t\t//generates signal\r\n\t\t//sending to backend\r\n\t\tconsole.log(userToSignal + \"  \" + callerID);\r\n\t\tpeer.on(\"signal\", (signal) => {\r\n\t\t\tsocketRef.current.emit(\"sending signal\", {\r\n\t\t\t\tuserToSignal,\r\n\t\t\t\tcallerID,\r\n\t\t\t\tsignal,\r\n\t\t\t});\r\n\t\t});\r\n\t\t// peer.on(\"data\", (data) => {\r\n\t\t// \tconsole.log(data + \"DATA\");\r\n\t\t// \tclearTimeout(alertTimeout);\r\n\t\t// \tmessgListReducer({\r\n\t\t// \t\ttype: \"addMessage\",\r\n\t\t// \t\tpayload: {\r\n\t\t// \t\t\tuser: userToSignal,\r\n\t\t// \t\t\tmsg: data.toString(),\r\n\t\t// \t\t\ttime: formatDate(),\r\n\t\t// \t\t},\r\n\t\t// \t});\r\n\t\t// \tsetMessageAlert({\r\n\t\t// \t\talert: true,\r\n\t\t// \t\tisPopup: true,\r\n\t\t// \t\tpayload: {\r\n\t\t// \t\t\tuser: userToSignal,\r\n\t\t// \t\t\tmsg: data.toString(),\r\n\t\t// \t\t},\r\n\t\t// \t});\r\n\r\n\t\t// \talertTimeout = setTimeout(() => {\r\n\t\t// \t\tsetMessageAlert({\r\n\t\t// \t\t\t...messageAlert,\r\n\t\t// \t\t\tisPopup: false,\r\n\t\t// \t\t\tpayload: {},\r\n\t\t// \t\t});\r\n\t\t// \t}, 100000);\r\n\t\t// });\r\n\t\t// console.log(formatDate());\r\n\r\n\t\treturn peer;\r\n\t}\r\n\r\n\tfunction addPeer(incomingSignal, callerID, stream) {\r\n\t\tconsole.log(\"Add Peer\");\r\n\t\tconst peer = new Peer({\r\n\t\t\tinitiator: false,\r\n\t\t\ttrickle: false,\r\n\t\t\tstream,\r\n\t\t});\r\n\t\tadminPeer.current = peer;\r\n\t\t// 1 accepting the incoming signal that this will return the signal\r\n\t\tpeer.signal(incomingSignal);\r\n\r\n\t\tpeer.on(\"signal\", (signal) => {\r\n\t\t\tsocketRef.current.emit(\"returning signal\", { signal, callerID });\r\n\t\t});\r\n\r\n\t\t// peer.on(\"data\", (data) => {\r\n\t\t// \tconsole.log(data + \"ADD DATA\");\r\n\t\t// \tclearTimeout(alertTimeout);\r\n\t\t// \tmessgListReducer({\r\n\t\t// \t\ttype: \"addMessage\",\r\n\t\t// \t\tpayload: {\r\n\t\t// \t\t\tuser: callerID,\r\n\t\t// \t\t\tmsg: data.toString(),\r\n\t\t// \t\t\ttime: formatDate(),\r\n\t\t// \t\t},\r\n\t\t// \t});\r\n\r\n\t\t// \tsetMessageAlert({\r\n\t\t// \t\talert: true,\r\n\t\t// \t\tisPopup: true,\r\n\t\t// \t\tpayload: {\r\n\t\t// \t\t\tuser: callerID,\r\n\t\t// \t\t\tmsg: data.toString(),\r\n\t\t// \t\t},\r\n\t\t// \t});\r\n\r\n\t\t// \talertTimeout = setTimeout(() => {\r\n\t\t// \t\tsetMessageAlert({\r\n\t\t// \t\t\t...messageAlert,\r\n\t\t// \t\t\tisPopup: false,\r\n\t\t// \t\t\tpayload: {},\r\n\t\t// \t\t});\r\n\t\t// \t}, 100000);\r\n\t\t// });\r\n\t\treturn peer;\r\n\t}\r\n\r\n\tconst screenShare = () => {\r\n\t\tnavigator.mediaDevices\r\n\t\t\t//Cursor True is means sending cursor also of the person sharing screen to the person recieving the screen\r\n\t\t\t.getDisplayMedia({ cursor: true })\r\n\t\t\t.then((screenStream) => {\r\n\t\t\t\tconsole.log(\"SCREEN STREAM\", screenStream);\r\n\t\t\t\tconsole.log(userVideo.current);\r\n\r\n\t\t\t\tpeers.map((peer, index) => {\r\n\t\t\t\t\tconsole.log(peer);\r\n\t\t\t\t\tpeer.replaceTrack(\r\n\t\t\t\t\t\t//0th track is the screen track\r\n\t\t\t\t\t\tstreamObj.getVideoTracks()[0],\r\n\t\t\t\t\t\tscreenStream.getVideoTracks()[0],\r\n\t\t\t\t\t\tstreamObj\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t\tsetIsPresenting(true);\r\n\r\n\t\t\t\t//WHEN SHARING STOPS RETURN TO NORMAl STATE\r\n\t\t\t\t//RESPONSIBLE FOR WORKING OF STOP BUTTON\r\n\t\t\t\tsetScreenCastStream(screenStream);\r\n\r\n\t\t\t\tscreenStream.getTracks()[0].onended = () => {\r\n\t\t\t\t\tpeers.map((peer, index) => {\r\n\t\t\t\t\t\tconsole.log(\"CALLED\");\r\n\t\t\t\t\t\tpeer.replaceTrack(\r\n\t\t\t\t\t\t\tscreenStream.getVideoTracks()[0],\r\n\t\t\t\t\t\t\tstreamObj.getVideoTracks()[0],\r\n\t\t\t\t\t\t\tstreamObj\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetIsPresenting(false);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t};\r\n\tconst stopScreenShare = () => {\r\n\t\tscreenCastStream.getVideoTracks().forEach(function (track) {\r\n\t\t\ttrack.stop();\r\n\t\t});\r\n\t\t// Replace with video tracks\r\n\t\tpeers.map((peer, index) => {\r\n\t\t\tpeer.replaceTrack(\r\n\t\t\t\tscreenCastStream.getVideoTracks()[0],\r\n\t\t\t\tstreamObj.getVideoTracks()[0],\r\n\t\t\t\tstreamObj\r\n\t\t\t);\r\n\t\t\tsetIsPresenting(false);\r\n\t\t});\r\n\t};\r\n\r\n\tconst toggleVideo = (value) => {\r\n\t\tif (value) {\r\n\t\t\tuserVideo.current.play();\r\n\t\t\tnavigator.mediaDevices\r\n\t\t\t\t.getUserMedia({ video: true, audio: true })\r\n\t\t\t\t.then((stream) => {\r\n\t\t\t\t\tuserVideo.current.srcObject = stream;\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tnavigator.mediaDevices\r\n\t\t\t\t.getUserMedia({ video: true, audio: true })\r\n\t\t\t\t.then((stream) => {\r\n\t\t\t\t\tuserVideo.current.srcObject = stream.stop;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tsetIsVideo(value);\r\n\t};\r\n\r\n\tconst disconnect = () => {\r\n\t\tconsole.log(\"Clicked\");\r\n\t\tsocketRef.current.disconnect();\r\n\t\thistory.push(\"/\");\r\n\t};\r\n\r\n\t// console.log(messgListReducer);\r\n\r\n\tconst sendMsg = (msg) => {\r\n\t\t//Send From one peer to another\r\n\r\n\t\tif (currentPeer.current) {\r\n\t\t\tcurrentPeer.current.send(msg);\r\n\t\t}\r\n\t\tif (adminPeer.current) {\r\n\t\t\tadminPeer.current.send(msg);\r\n\t\t}\r\n        socketRef.current.emit(\"prevMessage\",prevMessage)\r\n\r\n\t\tsocketRef.current.emit(\"chatMessages\", {\r\n\t\t\t\r\n\t\t\tmsg: msg,\r\n\t\t\tuser: socketRef.current.id,\r\n\t\t\ttime: formatDate(),\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\t\r\n\t\tmessgListReducer({\r\n\t\t\ttype: \"addMessage\",\r\n\t\t\tpayload: {\r\n\t\t\t\tmsg: msg,\r\n\t\t\t\tuser: socketRef.current.id,\r\n\t\t\t\ttime: formatDate(),\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tsocketRef.current.on(\"allMessages\", (payload) => {\r\n\t\t\tconsole.log(payload.chatMessages);\r\n\t\t\tsetPrevMessage(payload.chatMessages);\r\n\t\t\tsetMessageList(payload.chatMessages);\r\n\r\n\t\t\tsetMessageAlert({\r\n\t\t\t\talert: true,\r\n\t\t\t\tisPopup: true,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tuser: payload.payload.user,\r\n\t\t\t\t\tmsg: payload.payload.msg,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t\talertTimeout = setTimeout(() => {\r\n\t\t\t\tsetMessageAlert({\r\n\t\t\t\t\t...messageAlert,\r\n\t\t\t\t\tisPopup: false,\r\n\t\t\t\t\tpayload: {},\r\n\t\t\t\t});\r\n\t\t\t}, 100000);\r\n\t\t});\r\n\r\n\t\tsocketRef.current.on(\"currentUserMessages\", (payload) => {\r\n\t\t\tsetMessageList(payload.chatMessages);\r\n\t\t\tsetPrevMessage(payload.chatMessages);\r\n\t\t});\r\n\t}, []);\r\n\treturn (\r\n\t\t<div class=\"videoScreen\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<video\r\n\t\t\t\t\tstyle={vidStyle}\r\n\t\t\t\t\tmuted={!isAudio}\r\n\t\t\t\t\tref={userVideo}\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tcontrols={isPresenting}\r\n\t\t\t\t/>\r\n\t\t\t\t{peers.map((peer, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Video\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tpeer={peer}\r\n\t\t\t\t\t\t\tnumUsers={numUsers.current}\r\n\t\t\t\t\t\t\tisAudio={isAudio}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<MeetingHeader\r\n\t\t\t\tsetMessenger={setMessenger}\r\n\t\t\t\tid={id}\r\n\t\t\t\tsetMessageAlert={setMessageAlert}\r\n\t\t\t\tmessageAlert={messageAlert}\r\n\t\t\t/>\r\n\r\n\t\t\t<MeetingFooter\r\n\t\t\t\tisPresenting={isPresenting}\r\n\t\t\t\tscreenShare={screenShare}\r\n\t\t\t\tstopScreenShare={stopScreenShare}\r\n\t\t\t\tdisconnect={disconnect}\r\n\t\t\t\tsetIsAudio={setIsAudio}\r\n\t\t\t\tisVideo={isVideo}\r\n\t\t\t\tisAudio={isAudio}\r\n\t\t\t\ttoggleVideo={toggleVideo}\r\n\t\t\t/>\r\n\t\t\t{isAdmin && meetingInfoPopUp && (\r\n\t\t\t\t<MeetingInfo url={url} setMeetingInfoPopUp={setMeetingInfoPopUp} />\r\n\t\t\t)}\r\n\t\t\t{isMessenger ? (\r\n\t\t\t\t<Messenger\r\n\t\t\t\t\tsetMessenger={setMessenger}\r\n\t\t\t\t\tsendMsg={sendMsg}\r\n\t\t\t\t\t// messageListState={messageListState}\r\n\t\t\t\t\tmessageList={messageList}\r\n\t\t\t\t\t// userMessage={userMessage}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\tmessageAlert.isPopup && <Alert messageAlert={messageAlert} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Room;\r\n","import react, { useState, useEffect } from \"react\";\r\n\r\nimport Room from \"./MeetingPage/Room\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nfunction VideoPage() {\r\n\tconst isAdmin = window.location.hash === \"#init\" ? true : false;\r\n\tconst { id } = useParams();\r\n\tconst url = `${window.location.origin}${window.location.pathname}`;\r\n\r\n\tconst [meetingInfoPopUp, setMeetingInfoPopUp] = useState(false);\r\n\r\n\tconst history = useHistory();\r\n\r\n\t// useEffect(() => {\r\n\r\n\t// window.onpopstate = (event, ev) => {\r\n\t// console.log(\"CALED OnPOP\");\r\n\t// console.log(history.action);\r\n\t// };\r\n\t// }, []);\r\n\r\n\t// console.log(window.location);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isAdmin) {\r\n\t\t\tsetMeetingInfoPopUp(true);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Room\r\n\t\t\tid={id}\r\n\t\t\tisAdmin={isAdmin}\r\n\t\t\tsetMeetingInfoPopUp={setMeetingInfoPopUp}\r\n\t\t\tmeetingInfoPopUp={meetingInfoPopUp}\r\n\t\t\turl={url}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default VideoPage;\r\n","import React, { useEffect } from \"react\";\n\nimport Header from \"./Homepage/header\";\nimport Content from \"./Homepage/bodyContent\";\nimport NoMatch from \"./Nomatch\";\nimport VideoPage from \"./vedioPage\";\n\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRedirect,\n\tRoute,\n\tuseHistory,\n} from \"react-router-dom\";\nfunction App() {\n\t\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<div className=\"homepage\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Content />\n\t\t\t\t\t</div>\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/:id\">\n\t\t\t\t\t<VideoPage />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t<div className=\"homepage\">\n\t\t\t\t\t\t<NoMatch />\n\t\t\t\t\t</div>\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css'\nimport App from './components/App.js';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}