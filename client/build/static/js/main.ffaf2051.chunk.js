(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{150:function(e,t,c){},195:function(e,t){},197:function(e,t){},229:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(49),i=c.n(n),a=(c(150),c(128)),r=c.n(a),o=c(129),l=c.n(o),j=c(130),d=c.n(j),u=c(1);var b=function(){return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{className:"logo",children:[Object(u.jsx)("img",{alt:"google meet img",src:"https://www.gstatic.com/meet/google_meet_horizontal_wordmark_2020q4_2x_icon_124_40_292e71bcb52a56e2a9005164118f183b.png"}),Object(u.jsx)("span",{children:"Meet"})]}),Object(u.jsx)("div",{className:"action-icons",children:Object(u.jsxs)("div",{className:"icon-block",children:[Object(u.jsx)(r.a,{}),Object(u.jsx)(l.a,{}),Object(u.jsx)(d.a,{})]})})]})},O=c(15),g=c(13),h=c(131),m=c.n(h),x=c(52),f=c.n(x),p=c(155);var v=function(){var e=Object(g.f)(),t=Object(s.useState)(!1),c=Object(O.a)(t,2);return c[0],c[1],Object(u.jsxs)("div",{className:"body-content",children:[Object(u.jsxs)("div",{className:"left-side",children:[Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("h2",{children:"Premium video meetings. Now free for everyone."}),Object(u.jsx)("p",{children:"We re-engineered the service we built for secure business meetings, Google Meet, to make it free and available for all."})]}),Object(u.jsxs)("div",{className:"action-btn",children:[Object(u.jsxs)("button",{className:"btn",onClick:function(){var t=p.generate();e.push("".concat(t,"#init"))},children:[Object(u.jsx)(f.a,{}),"New Meeting"]}),Object(u.jsxs)("div",{className:"input-block",children:[Object(u.jsxs)("div",{className:"input-section",children:[Object(u.jsx)(m.a,{}),Object(u.jsx)("input",{placeholder:"Enter a code or link"})]}),Object(u.jsx)("button",{className:"join-btn",children:"Join"})]})]}),Object(u.jsxs)("div",{className:"footer",children:[Object(u.jsx)("a",{className:"green",href:"/",children:"Learn more"})," ","about Google Meet"]})]}),Object(u.jsx)("div",{className:"right-side",children:Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("img",{src:"https://www.gstatic.com/meet/google_meet_marketing_ongoing_meeting_grid_427cbb32d746b1d0133b898b50115e96.jpg",alt:"meet-img"})})})]})},N=c(31);var k=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{}),Object(u.jsxs)("div",{className:"no-match-content",children:[Object(u.jsx)("h2",{children:"Invalid video call name."}),Object(u.jsx)("div",{className:"action-btn",children:Object(u.jsx)("button",{classname:"green",children:Object(u.jsx)(N.b,{className:"return-text",to:"/",children:"Return to home screen"})})})]})]})},M=c(73),S=c(72),w=c(68),y=c.n(w),E=c(53),I=c.n(E),P=c(55),T=c.n(P),A=c(56),R=c.n(A),C=c(132),D=c.n(C),_=c(54),U=c.n(_);var V=function(e){var t=e.setMessenger,c=e.setMessageAlert,n=e.messageAlert,i=function(){return U()().format("LT")},a=Object(s.useState)((function(){i()})),r=Object(O.a)(a,2),o=r[0],l=r[1];return Object(s.useEffect)((function(){setInterval((function(){return l(i())}),1e3),console.log(o)}),[]),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{class:"frame-header",children:[Object(u.jsx)("div",{class:"header-items icon-block",children:Object(u.jsx)(T.a,{})}),Object(u.jsxs)("div",{class:"header-items ",onClick:function(){t(!0),c({alert:!1,isPopup:!1,payload:{}})},children:[Object(u.jsx)(R.a,{}),n.alert&&Object(u.jsx)("span",{className:"alert-icon"})]}),Object(u.jsx)("div",{class:"header-items date-block",children:o}),Object(u.jsx)("div",{class:"header-items icon-block",children:Object(u.jsx)(D.a,{})})]})})},L=c(138),J=c.n(L),z=c(71),B=c.n(z),F=c(133),G=c.n(F),q=c(134),H=c.n(q),W=c(136),Y=c.n(W),K=c(135),Q=c.n(K),X=c(137),Z=c.n(X);var $=function(e){var t=e.screenShare,c=e.isPresenting,s=e.stopScreenShare,n=(e.toggleAudio,e.isAudio),i=e.disconnect,a=e.isVideo,r=e.setIsAudio,o=e.toggleVideo;return Object(u.jsxs)("div",{className:"footer-item",children:[Object(u.jsx)("div",{className:"left-item",children:Object(u.jsxs)("div",{className:"item-block",children:["Meeting Details",Object(u.jsx)(G.a,{})]})}),Object(u.jsxs)("div",{className:"center-item",children:[Object(u.jsx)("div",{className:"icon-block mic ".concat(n?null:"red-btn"),onClick:function(){r(!n)},children:n?Object(u.jsx)(H.a,{}):Object(u.jsx)(Q.a,{})}),Object(u.jsx)("div",{className:"icon-block phone",onClick:function(){i()},children:Object(u.jsx)(Y.a,{})}),Object(u.jsx)("div",{className:"icon-block video ".concat(a?null:"red-btn"),onClick:function(){o(!a)},children:a?Object(u.jsx)(f.a,{}):Object(u.jsx)(Z.a,{})})]}),Object(u.jsxs)("div",{className:"right-item",children:[Object(u.jsxs)("div",{className:"icon-block ",children:[Object(u.jsx)(J.a,{}),Object(u.jsx)("p",{className:"title",children:"Turn on captions"})]}),c?Object(u.jsxs)("div",{className:"icon-block screen-share",onClick:function(){s()},children:[Object(u.jsx)(B.a,{}),Object(u.jsx)("p",{className:"title",children:"Stop Presenting"})]}):Object(u.jsxs)("div",{className:"icon-block screen-share",onClick:function(){t()},children:[Object(u.jsx)(B.a,{}),Object(u.jsx)("p",{className:"title",children:"Present now"})]})]})]})},ee=c(57),te=c.n(ee),ce=c(139),se=c.n(ce),ne=c(140),ie=c.n(ne),ae=c(141),re=c.n(ae);var oe=function(e){var t=e.url,c=e.setMeetingInfoPopUp;return Object(u.jsxs)("div",{class:"meeting-info-block",children:[Object(u.jsxs)("div",{class:"meeting-header",children:[Object(u.jsx)("h3",{children:"Your Meeting's ready"}),Object(u.jsx)(te.a,{onClick:function(){c(!1)}})]}),Object(u.jsxs)("button",{class:"add-people-btn",children:[Object(u.jsx)(se.a,{}),"Add others"]}),Object(u.jsx)("p",{class:"info-text",children:"Or share this meeting link with others you want in the meeting"}),Object(u.jsxs)("div",{class:"meet-link",children:[Object(u.jsx)("span",{children:t}),Object(u.jsx)(ie.a,{onClick:function(){navigator.clipboard.writeText(t)}})]}),Object(u.jsxs)("div",{class:"permission-text",children:[Object(u.jsx)(re.a,{}),Object(u.jsx)("p",{class:"small-text",children:"People who use this meeting link must get your permission before they can join."})]}),Object(u.jsx)("p",{class:"small-text",children:"Joined as xyz@gmail.com"})]})},le=c(142),je=c(143);var de=function(e){var t=e.messageAlert;return Object(u.jsxs)("div",{className:"message-alert-popup",children:[Object(u.jsxs)("div",{className:"alert-header",children:[Object(u.jsx)(le.a,{className:"icon",icon:je.a}),Object(u.jsx)("h3",{children:t.payload.user})]}),Object(u.jsx)("p",{className:"alert-msg",children:t.payload.msg})]})},ue=c(144),be=c.n(ue);c(46);var Oe=function(e){var t=e.setMessenger,c=e.sendMsg,n=(e.messageListState,e.messageList),i=e.userMessage,a=Object(s.useState)(""),r=Object(O.a)(a,2),o=r[0],l=r[1];return console.log(i),Object(u.jsxs)("div",{className:"messenger-container",children:[Object(u.jsxs)("div",{className:"messenger-header",children:[Object(u.jsx)("h3",{children:"Meeting details"}),Object(u.jsx)(te.a,{onClick:function(){t(!1)}})]}),Object(u.jsxs)("div",{className:"messenger-header-tab",children:[Object(u.jsxs)("div",{className:"people",children:[Object(u.jsx)(T.a,{})," People"]}),Object(u.jsxs)("div",{className:"chat",children:[Object(u.jsx)(R.a,{}),"Chat"]})]}),Object(u.jsx)("div",{className:"messenger-chat-area",children:n.map((function(e){return console.log(e),Object(u.jsxs)("div",{className:"usermessage",children:[Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("span",{children:e.user}),Object(u.jsx)("small",{children:e.time})]}),Object(u.jsx)("p",{children:e.msg})]})}))}),Object(u.jsxs)("div",{className:"messenger-input",children:[Object(u.jsx)("input",{placeholder:"Send a message to everyone",value:o,onChange:function(e){console.log(e.target.value),l(e.target.value)}}),Object(u.jsx)(be.a,{onClick:function(){c(o),l("")}})]})]})},ge=(c(208),{height:"264.15px",width:"639.9px",padding:"10px",paddingBottom:"5px",objectFit:"fill"}),he=function(e){var t=Object(s.useRef)();return Object(s.useEffect)((function(){e.peer.on("stream",(function(e){console.log("ENTE0RD"+e),t.current.srcObject=e}))}),[]),Object(u.jsx)("video",{style:ge,muted:!e.isAudio,ref:t,autoPlay:!0,controls:!0})},me=function(e,t){switch(t.type){case"addMessage":return[].concat(Object(S.a)(e),[t.payload]);default:return e}},xe=function(e){var t=e.id,c=e.isAdmin,n=e.setMeetingInfoPopUp,i=e.url,a=e.meetingInfoPopUp,r=Object(s.useState)(!1),o=Object(O.a)(r,2),l=o[0],j=o[1],d=Object(s.useRef)(),b=Object(g.f)(),h=Object(s.useState)([]),m=Object(O.a)(h,2),x=m[0],f=m[1],p=Object(s.useRef)(),v=Object(s.useRef)(),N=Object(s.useRef)([]),k=Object(s.useRef)(),w=Object(s.useRef)(),E=(Object(s.useRef)(),t),P=Object(s.useState)(!1),T=Object(O.a)(P,2),A=T[0],R=T[1],C=Object(s.useState)(),D=Object(O.a)(C,2),_=D[0],L=D[1],J=Object(s.useState)(),z=Object(O.a)(J,2),B=z[0],F=z[1],G=Object(s.useState)(),q=Object(O.a)(G,2),H=q[0],W=q[1],Y=Object(s.useState)(!0),K=Object(O.a)(Y,2),Q=K[0],X=K[1],Z=Object(s.useReducer)(me,[]),ee=Object(O.a)(Z,2),te=(ee[0],ee[1]),ce=Object(s.useState)([]),se=Object(O.a)(ce,2),ne=se[0],ie=se[1],ae=Object(s.useState)({}),re=Object(O.a)(ae,2),le=re[0],je=re[1],ue=Object(s.useState)(),be=Object(O.a)(ue,2),xe=be[0],fe=be[1],pe=function(){return U()().format("LT")};Object(s.useEffect)((function(){p.current=y.a.connect("/"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){L(e),v.current.srcObject=e,console.log(v.current),p.current.emit("JOINED ROOM"),p.current.emit("join room",E),p.current.on("all users",(function(t){console.log(t);var c=[];t.forEach((function(t){console.log(t+" USER ID OF USER IN THE ROOM "),console.log(p.current);var s=function(e,t,c){console.log("CREATE PEER");var s=new I.a({initiator:!0,trickle:!1,stream:c});return k.current=s,console.log(e+"  "+t),s.on("signal",(function(c){p.current.emit("sending signal",{userToSignal:e,callerID:t,signal:c})})),s}(t,p.current.id,e);N.current.push({peerID:t,peer:s}),c.push(s)})),x.length<=4&&f(c)})),p.current.on("user joined",(function(t){var c=function(e,t,c){console.log("Add Peer");var s=new I.a({initiator:!1,trickle:!1,stream:c});return w.current=s,s.signal(e),s.on("signal",(function(e){p.current.emit("returning signal",{signal:e,callerID:t})})),s}(t.signal,t.callerID,e);N.current.push({peerID:t.callerID,peer:c}),f((function(e){return[].concat(Object(S.a)(e),[c])}))})),p.current.on("receiving returned signal",(function(e){var t=N.current.find((function(t){return t.peerID===e.id}));console.log(t),t.peer.signal(e.signal)}))}))}),[]);return Object(s.useEffect)((function(){p.current.on("allMessages",(function(e){console.log(e.chatMessages),fe(e.chatMessages),ie(e.chatMessages),je({alert:!0,isPopup:!0,payload:{user:e.payload.user,msg:e.payload.msg}}),setTimeout((function(){je(Object(M.a)(Object(M.a)({},le),{},{isPopup:!1,payload:{}}))}),1e5)})),p.current.on("currentUserMessages",(function(e){ie(e.chatMessages),fe(e.chatMessages)}))}),[]),Object(u.jsxs)("div",{class:"videoScreen",children:[Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("video",{style:ge,muted:!A,ref:v,autoPlay:!0,controls:H}),x.map((function(e,t){return Object(u.jsx)(he,{peer:e,numUsers:d.current,isAudio:A},t)}))]}),Object(u.jsx)(V,{setMessenger:j,id:t,setMessageAlert:je,messageAlert:le}),Object(u.jsx)($,{isPresenting:H,screenShare:function(){navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((function(e){console.log("SCREEN STREAM",e),console.log(v.current),x.map((function(t,c){console.log(t),t.replaceTrack(_.getVideoTracks()[0],e.getVideoTracks()[0],_)})),W(!0),F(e),e.getTracks()[0].onended=function(){x.map((function(t,c){console.log("CALLED"),t.replaceTrack(e.getVideoTracks()[0],_.getVideoTracks()[0],_)})),W(!1)}}))},stopScreenShare:function(){B.getVideoTracks().forEach((function(e){e.stop()})),x.map((function(e,t){e.replaceTrack(B.getVideoTracks()[0],_.getVideoTracks()[0],_),W(!1)}))},disconnect:function(){console.log("Clicked"),p.current.disconnect(),b.push("/")},setIsAudio:R,isVideo:Q,isAudio:A,toggleVideo:function(e){e?(v.current.play(),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){v.current.srcObject=e}))):navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){v.current.srcObject=e.stop})),X(e)}}),c&&a&&Object(u.jsx)(oe,{url:i,setMeetingInfoPopUp:n}),l?Object(u.jsx)(Oe,{setMessenger:j,sendMsg:function(e){k.current&&k.current.send(e),w.current&&w.current.send(e),p.current.emit("prevMessage",xe),p.current.emit("chatMessages",{msg:e,user:p.current.id,time:pe()}),te({type:"addMessage",payload:{msg:e,user:p.current.id,time:pe()}})},messageList:ne}):le.isPopup&&Object(u.jsx)(de,{messageAlert:le})]})};var fe=function(){var e="#init"===window.location.hash,t=Object(g.g)().id,c="".concat(window.location.origin).concat(window.location.pathname),n=Object(s.useState)(!1),i=Object(O.a)(n,2),a=i[0],r=i[1];return Object(g.f)(),Object(s.useEffect)((function(){e&&r(!0)}),[]),Object(u.jsx)(xe,{id:t,isAdmin:e,setMeetingInfoPopUp:r,meetingInfoPopUp:a,url:c})};var pe=function(){return Object(u.jsx)(N.a,{children:Object(u.jsxs)(g.c,{children:[Object(u.jsx)(g.a,{exact:!0,path:"/",children:Object(u.jsxs)("div",{className:"homepage",children:[Object(u.jsx)(b,{}),Object(u.jsx)(v,{})]})}),Object(u.jsx)(g.a,{exact:!0,path:"/:id",children:Object(u.jsx)(fe,{})}),Object(u.jsx)(g.a,{path:"*",children:Object(u.jsx)("div",{className:"homepage",children:Object(u.jsx)(k,{})})})]})})};i.a.render(Object(u.jsx)(pe,{}),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.ffaf2051.chunk.js.map